{"version":3,"sources":["../src/util/caching.ts"],"names":[],"mappings":";;;AAAA;;GAEG;AACH;IAAA,MAAa,KAAK;QAGT,MAAM,CAAC,GAAG,CAAE,IAAqB,EAAE,KAAU,EAAE,GAAW;YAC/D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAA;QACzC,CAAC;QAEM,MAAM,CAAC,GAAG,CAAE,IAAqB;YACtC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;YAE7B,IAAI,IAAI,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;gBACxE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;gBAClB,OAAO,SAAS,CAAA;aACjB;YAED,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;QAC3B,CAAC;QAEM,MAAM,CAAC,SAAS;YACrB,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,KAAK,EAAE;gBACjC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;gBACjC,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAA;gBAEjC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE;oBACf,OAAM;iBACP;gBAED,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,EAAE;oBAClB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;iBAC5B;aACF;QACH,CAAC;QAEM,MAAM,CAAC,OAAO,CAAE,IAAqB;YAC1C,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;YAE7B,IAAI,CAAC,IAAI,EAAE;gBACT,OAAM;aACP;YAED,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;QACzB,CAAC;;IAxCc,WAAK,GAAiC,EAAE,CAAA;IAyCzD,YAAC;KAAA;AA1CY,sBAAK","file":"caching.js","sourcesContent":["/**\n * @ignore\n */\nexport class Cache {\n  private static cache: { [key: string]: CacheItem } = {}\n\n  public static set (name: string | number, value: any, ttl: number) {\n    this.cache[name] = { v: value, t: ttl }\n  }\n\n  public static get (name: string | number): any {\n    const item = this.cache[name]\n\n    if (item === undefined || (item.t > 0 && new Date().getTime() >= item.t)) {\n      this._delete(name)\n      return undefined\n    }\n\n    return this.cache[name].v\n  }\n\n  public static checkTTLs () {\n    for (const itemName in this.cache) {\n      const item = this.cache[itemName]\n      const time = new Date().getTime()\n\n      if (item.t <= 0) {\n        return\n      }\n\n      if (time >= item.t) {\n        delete this.cache[itemName]\n      }\n    }\n  }\n\n  public static _delete (name: string | number) {\n    const item = this.cache[name]\n\n    if (!item) {\n      return\n    }\n\n    delete this.cache[name]\n  }\n}\n\n/**\n * @ignore\n */\ntype CacheItem = {\n  v: any\n  t: number\n}\n"],"sourceRoot":"../../src"}